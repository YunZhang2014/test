CREATE USER SA PASSWORD "" ADMIN
/*C1*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C2*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C3*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C4*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C5*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C1*/SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
/*C2*/SET AUTOCOMMIT FALSE
/*C1*/DISCONNECT
/*C4*/DISCONNECT
/*C5*/DISCONNECT
/*C3*/DISCONNECT
/*C2*/DISCONNECT
/*C6*/SET SCHEMA PUBLIC
CONNECT USER SA
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C8*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C9*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C10*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C11*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C7*/SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
drop table MESSAGES if exists
create table MESSAGES (MESSAGE_ID bigint generated by default as identity (start with 1), MESSAGE_TEXT varchar(255), NEXT_MESSAGE_ID bigint, primary key (MESSAGE_ID))
alter table MESSAGES add constraint FK_NEXT_MESSAGE foreign key (NEXT_MESSAGE_ID) references MESSAGES
/*C8*/DISCONNECT
/*C7*/DISCONNECT
/*C10*/DISCONNECT
/*C11*/DISCONNECT
/*C9*/DISCONNECT
/*C12*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C13*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C14*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C15*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C16*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C12*/SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
/*C13*/SET AUTOCOMMIT FALSE
INSERT INTO MESSAGES VALUES(1,'Hello World',NULL)
COMMIT
SET AUTOCOMMIT TRUE
/*C14*/SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
/*C15*/SET AUTOCOMMIT FALSE
INSERT INTO MESSAGES VALUES(2,'Take me to your leader (please)',NULL)
DELETE FROM MESSAGES WHERE MESSAGE_ID=1
INSERT INTO MESSAGES VALUES(1,'Greetings Earthling',2)
COMMIT
SET AUTOCOMMIT TRUE
/*C16*/SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
/*C14*/DISCONNECT
/*C15*/DISCONNECT
/*C16*/DISCONNECT
/*C13*/DISCONNECT
/*C12*/DISCONNECT
/*C17*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C18*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C19*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C20*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C21*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C17*/SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
/*C18*/SET AUTOCOMMIT FALSE
INSERT INTO MESSAGES VALUES(3,'Hello World',NULL)
COMMIT
SET AUTOCOMMIT TRUE
/*C19*/SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
/*C20*/SET AUTOCOMMIT FALSE
INSERT INTO MESSAGES VALUES(4,'Take me to your leader (please)',NULL)
DELETE FROM MESSAGES WHERE MESSAGE_ID=3
INSERT INTO MESSAGES VALUES(3,'Greetings Earthling',4)
COMMIT
SET AUTOCOMMIT TRUE
/*C21*/SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
/*C20*/DISCONNECT
/*C21*/DISCONNECT
/*C18*/DISCONNECT
/*C17*/DISCONNECT
/*C19*/DISCONNECT
